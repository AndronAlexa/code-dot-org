{
  "widgets": [
    {
      "height": 9,
      "width": 8,
      "y": 12,
      "x": 0,
      "type": "metric",
      "properties": {
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "CPUUtilization",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "region": "us-east-1",
        "title": "CPU Utilization - gen-ai-mistral-7b-inst-v01",
        "period": 300,
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 12,
      "x": 8,
      "type": "metric",
      "properties": {
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "GPUUtilization",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "GPUMemoryUtilization",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "region": "us-east-1",
        "period": 300,
        "title": "GPU Utilization - gen-ai-mistral-7b-inst-v01",
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 12,
      "x": 16,
      "type": "metric",
      "properties": {
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "DiskUtilization",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "MemoryUtilization",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "region": "us-east-1",
        "title": "Memory & Disk Utilization - gen-ai-mistral-7b-inst-v01",
        "period": 300,
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100,
            "label": ""
          }
        }
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 3,
      "x": 0,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "AWS/SageMaker",
            "Invocations",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-mistral-7b-inst-v01",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "InvocationsPerInstance",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Invocations - gen-ai-mistral-7b-inst-v01",
        "period": 300,
        "stat": "Sum"
      }
    },
    {
      "height": 9,
      "width": 6,
      "y": 3,
      "x": 8,
      "type": "metric",
      "properties": {
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          [
            "AWS/SageMaker",
            "ModelLatency",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-mistral-7b-inst-v01",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "OverheadLatency",
            ".",
            ".",
            ".",
            "."
          ]
        ],
        "region": "us-east-1",
        "title": "Latency - gen-ai-mistral-7b-inst-v01",
        "period": 300
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 3,
      "x": 16,
      "type": "metric",
      "properties": {
        "view": "timeSeries",
        "stacked": false,
        "metrics": [
          [
            "AWS/SageMaker",
            "InvocationModelErrors",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-mistral-7b-inst-v01"
          ],
          [
            ".",
            "Invocation5XXErrors",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "Invocation4XXErrors",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ],
        "region": "us-east-1",
        "title": "Invocation Errors - gen-ai-mistral-7b-inst-v01"
      }
    },
    {
      "height": 2,
      "width": 24,
      "y": 0,
      "x": 0,
      "type": "text",
      "properties": {
        "markdown": "# Model Metrics\n*[Metrics Descriptions](https://docs.aws.amazon.com/sagemaker/latest/dg/monitoring-cloudwatch.html#cloudwatch-metrics-jobs)*"
      }
    },
    {
      "height": 1,
      "width": 24,
      "y": 2,
      "x": 0,
      "type": "text",
      "properties": {
        "markdown": "## **gen-ai-mistral-7b-inst-v01**"
      }
    },
    {
      "height": 1,
      "width": 24,
      "y": 21,
      "x": 0,
      "type": "text",
      "properties": {
        "markdown": "## **gen-ai-biomistral-7b**"
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 22,
      "x": 0,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "AWS/SageMaker",
            "Invocations",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-biomistral-7b",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "InvocationsPerInstance",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Invocations - gen-ai-biomistral-7b",
        "period": 300,
        "stat": "Sum"
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 22,
      "x": 8,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "AWS/SageMaker",
            "ModelLatency",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-biomistral-7b",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "OverheadLatency",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Latency - gen-ai-biomistral-7b",
        "period": 300
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 22,
      "x": 16,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "AWS/SageMaker",
            "InvocationModelErrors",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            "EndpointConfigName",
            "gen-ai-biomistral-7b",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "Invocation5XXErrors",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "Invocation4XXErrors",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Invocation Errors - gen-ai-biomistral-7b",
        "period": 300
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 31,
      "x": 0,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "CPUUtilization",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "CPU Utilization - gen-ai-biomistral-7b",
        "period": 300,
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 31,
      "x": 8,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "GPUUtilization",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "GPUMemoryUtilization",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "period": 300,
        "title": "GPU Utilization - gen-ai-biomistral-7b",
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "height": 9,
      "width": 8,
      "y": 31,
      "x": 16,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            "/aws/sagemaker/Endpoints",
            "DiskUtilization",
            "EndpointName",
            "gen-ai-biomistral-7b",
            "VariantName",
            "AllTraffic",
            {
              "region": "us-east-1"
            }
          ],
          [
            ".",
            "MemoryUtilization",
            ".",
            ".",
            ".",
            ".",
            {
              "region": "us-east-1"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Memory & Disk Utilization - gen-ai-biomistral-7b",
        "period": 300,
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100,
            "label": ""
          }
        }
      }
    },
    {
      "height": 9,
      "width": 12,
      "y": 40,
      "x": 0,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" Browser=\"Chrome\"', 'Average')",
              "id": "e1",
              "region": "us-east-1",
              "label": "chrome",
              "visible": false
            }
          ],
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" Browser=\"Safari\"', 'Average')",
              "id": "e2",
              "region": "us-east-1",
              "label": "safari",
              "visible": false
            }
          ],
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" Browser=\"Firefox\"', 'Average')",
              "id": "e3",
              "region": "us-east-1",
              "label": "firefox",
              "visible": false
            }
          ],
          [
            {
              "expression": "SUM(e1)/(DATAPOINT_COUNT(e1))",
              "id": "e1avg",
              "region": "us-east-1",
              "label": "chrome-avg"
            }
          ],
          [
            {
              "expression": "SUM(e2)/(DATAPOINT_COUNT(e2))",
              "id": "e2avg",
              "region": "us-east-1",
              "label": "safari-avg"
            }
          ],
          [
            {
              "expression": "SUM(e3)/(DATAPOINT_COUNT(e3))",
              "id": "e3avg",
              "region": "us-east-1",
              "label": "firefox-avg"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "stat": "Average",
        "period": 300,
        "title": "Model Reponse Time by Browser"
      }
    },
    {
      "height": 9,
      "width": 12,
      "y": 40,
      "x": 12,
      "type": "metric",
      "properties": {
        "metrics": [
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" ModelId=\"gen-ai-mistral-7b-inst-v01\"', 'Average')",
              "id": "e1",
              "region": "us-east-1",
              "label": "verbose-mistral",
              "visible": false,
              "period": 900
            }
          ],
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" ModelId=\"gen-ai-biomistral-7b\"', 'Average')",
              "id": "e3",
              "region": "us-east-1",
              "label": "verbose-mistral",
              "visible": false,
              "period": 900
            }
          ],
          [
            {
              "expression": "SEARCH('{production-browser-metrics,AppName,Browser,BrowserVersion,Hostname,ModelId} MetricName=\"AichatModelResponseTime\" ModelId!=\"gen-ai-mistral-7b-inst-v01\" && ModelId!=\"gen-ai-biomistral-7b\"', 'Average')",
              "id": "e2",
              "region": "us-east-1",
              "label": "other",
              "visible": false,
              "period": 900
            }
          ],
          [
            {
              "expression": "SUM(e1)/DATAPOINT_COUNT(e1)",
              "id": "e1avg",
              "region": "us-east-1",
              "label": "gen-ai-mistral-7b-inst-v01",
              "stat": "Average"
            }
          ],
          [
            {
              "expression": "SUM(e2)/(DATAPOINT_COUNT(e2))",
              "id": "e2avg",
              "region": "us-east-1",
              "label": "other",
              "stat": "Average"
            }
          ],
          [
            {
              "expression": "SUM(e3)/(DATAPOINT_COUNT(e3))",
              "id": "e3avg",
              "region": "us-east-1",
              "label": "gen-ai-biomistral-7b",
              "stat": "Average"
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "stat": "Average",
        "period": 300,
        "title": "Model Response Time by Model",
        "yAxis": {
          "right": {
            "label": "",
            "showUnits": true
          },
          "left": {
            "label": "ms",
            "showUnits": false
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 14,
      "y": 3,
      "width": 2,
      "height": 9,
      "properties": {
        "view": "singleValue",
        "stacked": false,
        "metrics": [
          [
            "AWS/SageMaker",
            "OverheadLatency",
            "EndpointName",
            "gen-ai-mistral-7b-inst-v01",
            "VariantName",
            "AllTraffic"
          ],
          [
            ".",
            "ModelLatency",
            ".",
            ".",
            ".",
            "."
          ]
        ],
        "region": "us-east-1",
        "setPeriodToTimeRange": true,
        "sparkline": false,
        "trend": false,
        "title": "Average Latency"
      }
    }
  ]
}